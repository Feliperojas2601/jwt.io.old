<div class="jwt-container">
    <header class="jwt-header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon">
                    <svg viewBox="0 0 24 24" width="32" height="32">
                        <circle cx="12" cy="12" r="3" fill="#ff006e"/>
                        <circle cx="6" cy="12" r="3" fill="#8338ec"/>
                        <circle cx="18" cy="12" r="3" fill="#3a86ff"/>
                        <circle cx="12" cy="6" r="3" fill="#06ffa5"/>
                        <circle cx="12" cy="18" r="3" fill="#ffbe0b"/>
                    </svg>
                </div>
                <h1 class="logo-text">JWT.IO.OLD</h1>
            </div>
        </div>
    </header>
    <main class="jwt-main">
        <div class="jwt-content">
            <section class="encoded-section">
                <div class="section-header">
                    <h2>Encoded</h2>
                    <span class="section-subtitle">PASTE A TOKEN HERE</span>
                </div>
                <div class="encoded-controls">
                    <div class="jwt-status" [class.valid]="isValidJwt()" [class.invalid]="!isValidJwt() && encodedJwt().length > 0">
                        @if (encodedJwt().length === 0) {
                            <span class="status-text">No token</span>
                        } @else if (isValidJwt()) {
                            <span class="status-text">âœ“ Valid JWT</span>
                        } @else {
                            <span class="status-text">âœ— Invalid JWT</span>
                        }
                    </div>
                </div>
                <div class="encoded-content">
                    <textarea 
                        class="jwt-input" 
                        placeholder="Paste your JWT token here..."
                        [value]="encodedJwt()"
                        (input)="onJwtInput($event)">
                    </textarea>
                </div>
            </section>
            <section class="decoded-section">
                <div class="section-header">
                    <h2>Decoded</h2>
                    <span class="section-subtitle">EDIT THE PAYLOAD AND SECRET</span>
                </div>
                <div class="decoded-part header-part">
                    <div class="part-label">HEADER: ALGORITHM & TOKEN TYPE</div>
                    <div class="json-content">
                        <textarea 
                            class="json-input"
                            [value]="headerJson()"
                            (input)="onHeaderInput($event)"
                            placeholder="Header JSON">
                        </textarea>
                    </div>
                </div>
                <div class="decoded-part payload-part">
                    <div class="part-label">PAYLOAD: DATA</div>
                    <div class="json-content">
                        <div class="json-display-container">
                            <pre class="json-display">{{payloadJson()}}</pre>
                            <div class="date-tooltips">
                                @for (item of Object.entries(payloadWithDates().dateInfo); track item[0]) {
                                    <div class="date-tooltip" 
                                         [attr.data-field]="item[0]"
                                         [style.top.em]="item[1].lineNumber * 1.5"
                                         [style.left.em]="12"
                                         [title]="getDateFieldDescription(item[0]) + '\n' + formatJwtDate(item[1].timestamp)">
                                        <span class="tooltip-icon">ðŸ“…</span>
                                        <div class="tooltip-content">
                                            <div class="tooltip-title">{{getDateFieldDescription(item[0])}}</div>
                                            <div class="tooltip-date">{{formatJwtDate(item[1].timestamp)}}</div>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                        <textarea 
                            class="json-input"
                            [value]="payloadJson()"
                            (input)="onPayloadInput($event)"
                            placeholder="Payload JSON">
                        </textarea>
                    </div>
                </div>
                <div class="decoded-part signature-part">
                    <div class="part-label">VERIFY SIGNATURE</div>
                    <div class="signature-content">
                        <div class="signature-formula">
                            <div class="secret-input-container">
                                <input 
                                    type="text" 
                                    class="secret-input-field"
                                    [value]="secret()"
                                    (input)="onSecretInput($event)"
                                    placeholder="your-256-bit-secret">
                            </div>
                        </div>
                        <div class="signature-controls">
                            <div class="signature-note">
                                <input 
                                    type="checkbox" 
                                    id="secret-encoded" 
                                    [checked]="isSecretBase64()"
                                    (change)="onSecretBase64Change($event)">
                                <label for="secret-encoded">secret base64 encoded</label>
                            </div>
                            <div class="signature-status" 
                                 [class.valid]="signatureStatus().isValid === true"
                                 [class.invalid]="signatureStatus().isValid === false"
                                 [class.neutral]="signatureStatus().isValid === null">
                                    <span class="status-message">{{signatureStatus().message}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <footer>
            <div class="footer-content">
                <p>Inspired by the classic JWT debugger. No secret restrictions.</p>
                <p>Created by <a href="https://github.com/Feliperojas2601" target="_blank">Felipe Rojas</a></p>
            </div>
        </footer>
    </main>
</div>
      